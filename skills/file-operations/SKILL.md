---
name: file-operations
description: 文件操作最佳实践，包括读取、写入、搜索文件的规范和技巧
allowed-tools:
  - Read
  - Write
  - Edit
  - Glob
  - Grep
---

# 文件操作技能

## 核心原则

1. **读取优先** - 修改文件前必须先读取，理解现有内容
2. **最小改动** - 只修改必要的部分，避免不必要的重构
3. **备份意识** - 重要操作前考虑备份

## 工具使用指南

### Read - 读取文件
- 用于查看文件内容
- 支持指定行范围（offset, limit）
- 大文件分段读取

### Write - 写入文件
- 创建新文件或完全覆盖
- 写入前确认目标路径正确

### Edit - 编辑文件
- 精确替换文件中的内容
- old_string 必须唯一匹配
- 保持原有缩进格式

### Glob - 文件搜索
- 按模式查找文件
- 支持 `**/*.go` 等通配符

### Grep - 内容搜索
- 在文件中搜索文本
- 支持正则表达式

## 最佳实践

1. 修改代码前先用 Read 查看上下文
2. 使用 Glob 定位文件，避免猜测路径
3. Edit 时提供足够的上下文确保唯一匹配
4. 批量操作时先在小范围测试
